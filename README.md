How to Integrate Analytical Capabilities with AURIN using ROverviewAnalytical functions can be integrated into AURIN via the use of the R programming language wrapped Java code. The R scripts are called by the Java code via a package called RServe. The downloadable sample project mentioned below serves as template for most of the important specifications. This document serves as a reference to the sample project and outlines the tools and specifications.For more advanced examples refer to the spatialstats project on github.Currently the result on an analytical component can be one or more of the following:1. A String text result for direct output to the portal.2. A String JSON result for consumption by other components. 3. An R dataframe dataset result. This can be saved in the AURIN datastore using existing components. 4. A binary file, typically an image.Required Software and Sample CodeFirstly it is necessary to install some software.Java-Eclipse	The IDE for Java developmentJava code-analytics-commons maven project on github.	https://github.com/AURIN/analytics-commonsThis project is a required dependency of each analytics project and handles the connection to RServe. It also contains the loggingCommons R package.-analytics-sample maven project on github. 	https://github.com/AURIN/analytics-sampleA simple example project that can be used a template for a new analytics project. The project contains a component that computes a mean of a variable via a wrapped R script.R-R  Version 2.15 or later.-Rstudio  A useful front end for developing R scripts and managing R packages-R packages; 	RJSONIO (version greater than 1.x). Install through RStudio install packages dialogue.	loggingCommons. The package is found in the analytics-commons repository downloaded from github. Install it from the R command line with the following code:install.packages("$path_to_analytics-commons/ /Rpackages/loggingCommons_1.0.tar.gz", repos = NULL, type="source")Where $path_to_analytics-commons is the location of your copy of analytics-commons.Code RequirementsJava requirementsAnnotationsEach analytical component must have annotations for the class definition, member parameters and methods in the Java code. The class definition should have at least @Name() and @Description().Input parameters should have @In, @Name(), and @Description(). Similarly, output parameters should have @Out, @Name(), and @Description(). The contents of @Name() and @Description() are used in the user interface, and should therefore be carefully specified with this in mind.There should be a special method with the annotation @Execute, and a method This is the main method that is executed when the component is called from AURIN. There should also be a method with annotation @Initialize that performs input validation.Special class member parameterspublic RConnection cIn ;public RConnection  cOut;We require input and output parameters of type RConnection. By convention we call the cIn and cOut respectively. These are the connection to the R environment and allow data to be passed from component to component (without serialisation and deserialisation). public String dataFrame;This is a string that is used to identify datasets (dataframes) in the RConnection.DependenciesWe require the following dependencies:		<dependency>			<groupId>au.org.aurin</groupId>			<artifactId>annotations</artifactId>			<version>0.4-SNAPSHOT</version>		</dependency>		<dependency>			<groupId>au.edu.uq.aurin</groupId>			<artifactId>analytics-commons</artifactId>			<version>0.2-SNAPSHOT</version>		</dependency>		<!-- Logging and testing -->		<dependency>			<groupId>org.slf4j</groupId>			<artifactId>slf4j-api</artifactId>			<version>1.6.6</version>		</dependency>		<dependency>			<groupId>org.slf4j</groupId>			<artifactId>slf4j-log4j12</artifactId>			<version>1.6.6</version>		</dependency>prettyprint and textresultAll classes need to implement a prettyPrint() method that returns a String.Unit TestsEvery component should have an associated unit test, as in the sample project.LoggingWe do not permit any System.out.println() statements. Alternatively we use logging via slf4j.In addition to the slf4j pom entries we need the following imports:import org.slf4j.Logger;import org.slf4j.LoggerFactory;and the class member:protected final static Logger LOG = LoggerFactory.getLogger (helloWorld.class);Logging is  this achieved as follows:LOG.debug("hello world value: {}", helloWorldVar.toString());Input ValidationThere should also be a method with annotation @Initialize that performs input validation.Errors in input should throw an IllegalStateException, such as null parameters, integers less than zero etc.R script requirementsInput CheckingAs with the Java wrapper, include a function that checks for valid inputs, i.e. checks for the presence of a parameter of required type and any other requirements. See the sample project for an example.Get Command for datasetsIn order to retrieve the dataset within the R script, the script needs to use the get() commmand. See the sample project for an example.dataF <- get(dataFrameName)Test FunctionTo assist in testing and debugging, the R script should contain a function that sets input parameters and calls the main function. See the sample project for an example.